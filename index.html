<!DOCTYPE html>
<html>
	<head>
		<title>Head-to-head Line CHart</title>

		<style>

		</style>

		<script src="https://d3js.org/d3.v4.min.js"></script>
	</head>
	<body>
		<div>
			<div>
				<div class="left">
					<div class="teamLogo" id="team1Logo">
						
					</div>

	                <select class="ddlTeam" id="ddlTeam1">

	                </select>
				</div>
				<div class="right">
					<div class="teamLogo" id="team2Logo">
						
					</div>

	                <select class="ddlTeam" id="ddlTeam2">

	                </select>
				</div>
			</div>

			<div>
				<svg>

				</svg>				
			</div>
		</div>

		<script>
			let h2h = 
			{
				teams: 
				[
					{ "name": "Arsenal", "color": "FFAAAA", "logo": ""},
					{ "name": "Manchester City", "color": "AAFFAA", "logo": ""},
					{ "name": "Liverpool", "color": "AA0000", "logo": ""}
				],
				data: 
				{
					2018: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 4},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 3},
							"away": { "team": "Liverpool", "goals" : 3}
						},
						{
							"home": { "team": "Manchester City", "goals" : 3},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Manchester City", "goals" : 3}
						},
						{
							"home": { "team": "Manchester City", "goals" : 5},
							"away": { "team": "Liverpool", "goals" : 0}
						},
						{
							"home": { "team": "Liverpool", "goals" : 4},
							"away": { "team": "Manchester City", "goals" : 3}
						}					
					],
					2019: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 5},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 1},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Manchester City", "goals" : 3},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Manchester City", "goals" : 2}
						},
						{
							"home": { "team": "Manchester City", "goals" : 2},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Liverpool", "goals" : 0},
							"away": { "team": "Manchester City", "goals" : 0}
						}					
					],
					2020: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 3},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 2},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Manchester City", "goals" : 3},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Manchester City", "goals" : 3}
						},
						{
							"home": { "team": "Manchester City", "goals" : 4},
							"away": { "team": "Liverpool", "goals" : 0}
						},
						{
							"home": { "team": "Liverpool", "goals" : 1},
							"away": { "team": "Manchester City", "goals" : 3}
						}					
					],
					2021: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 3},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Liverpool", "goals" : 3}
						},
						{
							"home": { "team": "Manchester City", "goals" : 1},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Manchester City", "goals" : 1}
						},
						{
							"home": { "team": "Manchester City", "goals" : 1},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Liverpool", "goals" : 1},
							"away": { "team": "Manchester City", "goals" : 4}
						}					
					],
					2022: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 4},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 0},
							"away": { "team": "Liverpool", "goals" : 2}
						},
						{
							"home": { "team": "Manchester City", "goals" : 5},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 1},
							"away": { "team": "Manchester City", "goals" : 2}
						},
						{
							"home": { "team": "Manchester City", "goals" : 2},
							"away": { "team": "Liverpool", "goals" : 2}
						},
						{
							"home": { "team": "Liverpool", "goals" : 2},
							"away": { "team": "Manchester City", "goals" : 2}
						}					
					],
					2023: 
					[
						{
							"home": { "team": "Liverpool", "goals" : 1},
							"away": { "team": "Arsenal", "goals" : 1}
						},
						{
							"home": { "team": "Arsenal", "goals" : 3},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Manchester City", "goals" : 0},
							"away": { "team": "Arsenal", "goals" : 0}
						},
						{
							"home": { "team": "Arsenal", "goals" : 1},
							"away": { "team": "Manchester City", "goals" : 0}
						},
						{
							"home": { "team": "Manchester City", "goals" : 1},
							"away": { "team": "Liverpool", "goals" : 1}
						},
						{
							"home": { "team": "Liverpool", "goals" : 1},
							"away": { "team": "Manchester City", "goals" : 1}
						}					
					]
				},
				currentData: [],
				getData: function()
				{
					var team1 = "Liverpool";
					var team2 = "Arsenal";
					this.currentData = [];

					if (team1 == team2) return;

					for (var season = 2018; season <= 2023; season ++)
					{
						for (var i = 0; i < this.data[season].length; i++)
						{
							var h = this.data[season][i].home;
							var a = this.data[season][i].away;
							var score1 = 0;
							var score2 = 0;

							if (!((h.team == team1 && a.team == team2) || (h.team == team2 && a.team == team1))) continue;

							if (h.team == team1) 
							{
								score1 = h.goals;
								score2 = a.goals;
							}

							if (h.team == team2) 
							{
								score1 = a.goals;
								score2 = h.goals;
							}

							this.currentData.push({ "season": season, "team1": team1, "team2": team2, "score1": score1, "score2": score2});
						}
					}
				}	
			};

	        var ddlTeam1 = d3.select(".ddlTeam");

	        ddlTeam1.selectAll("option")
	        .data(h2h.teams)
	        .enter()
	        .append("option")
	        .property("selected", function(d, i) 
	        {
	            return i == 0;
	        })
	        .attr("value", function(d) 
	        {
	            return d.name;
	        })
	        .text(function(d) 
	        {
	            return d.name;
        	});
        </script>
	</body>
</html>
